!function t(e,n,r){function a(o,l){if(!n[o]){if(!e[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return a(n?n:t)},u,u.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){var r=t("./graph"),a=r(600,400,{top:40,right:30,bottom:40,left:50},10);document.getElementById("city-input").addEventListener("input",function(t){var e=function(){a.submitting=!1,document.getElementById("chart").innerHTML="",a.formatChart(this.value)};a.submitting||(a.submitting=!0,setTimeout(e.bind(t.target),500))})},{"./graph":2}],2:[function(t,e,n){e.exports=function(t,e,n,r){var a,i,o=["Sun","Mon","Tues","Weds","Thurs","Fri","Sat"],l=function(t){return(1.8*(t-273.15)+32).toFixed(2)},s=function(t){return o[new Date(1e3*t).getDay()]},e=e-n.top-n.bottom,t=t-n.left-n.right;return{submitting:!1,formatChart:function(o){d3.json("http://api.openweathermap.org/data/2.5/forecast/daily?q="+o,function(u){var c=[],d=[],f=[],p=[];if(u&&"404"!==u.cod){a=u.list.length,o=u.city.name+", "+u.city.country,u.list.forEach(function(t,e){var n=l(t.temp.day),r=s(t.dt),i={temp:n};c.push(n),d.push(r),e!==a-1&&(i.target=e+1),f.push(i)}),f.forEach(function(t){t.hasOwnProperty("target")&&p.push({source:t,target:f[t.target]})});var g=d3.scale.linear().domain([0,.33*c.length,.66*c.length,c.length]).range(["#B58929","#C61C6F","#268BD2","#85992C"]),y=d3.scale.linear().domain([d3.min(c)-5,d3.max(c)+5]).range([0,e]),m=d3.scale.ordinal().domain(d3.range(0,c.length)).rangeBands([0,t],.2),h=d3.select("body").append("div").attr("id","tool-tip"),x=d3.select("#chart").append("svg"),v=x.style("background","#E7E0CB").attr("width",t+n.left+n.right).attr("height",e+n.top+n.bottom).append("g").attr("transform","translate("+n.left+", "+n.top+")"),b=d3.scale.linear().domain([d3.min(c)-5,d3.max(c)+5]).range([e,0]),E=d3.scale.ordinal().domain(d).rangeBands([0,t],.2),k=d3.svg.axis().scale(b).orient("left").ticks(10),B=d3.svg.axis().scale(E).orient("bottom").tickValues(E.domain()),w=d3.select("svg").append("g"),C=d3.select("svg").append("g");f.forEach(function(t,n){t.x=m(n)+m.rangeBand()/2,t.y=e-y(t.temp)}),v.selectAll("line").data(p).enter().append("line").attr("stroke",function(t,e){return g(e)}).attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.source.x}).attr("y2",function(t){return t.source.y}).transition().attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).delay(function(t,e){return 200*e}).ease("linear"),v.selectAll("circle").data(f).enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("fill",function(t,e){return g(e)}).on("mouseover",function(t){h.transition().style("opacity",.9),h.html(t.temp+"&deg;F").style("left",d3.event.pageX-35+"px").style("top",d3.event.pageY-35+"px"),i=this.style.fill,d3.select(this).transition().style("opacity",.5).style("fill","yellow")}).on("mouseout",function(t){d3.select(this).transition().style("opacity",1).style("fill",i),h.transition().style("opacity",0)}).transition().attr("r",r).delay(function(t,e){return 200*e}).ease("elastic"),B(C),C.attr("transform","translate("+n.left+", "+(e+n.top)+")"),C.selectAll("path").style({fill:"none",stroke:"#000"}),C.selectAll("line").style({stroke:"#000"}),k(w),w.attr("transform","translate("+n.left+", "+n.top+")"),w.selectAll("path").style({fill:"none",stroke:"#000"}),w.selectAll("line").style({stroke:"#000"}),x.append("text").attr("x",t/2).attr("y",n.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text("Temperatures for "+o)}})}}}},{}]},{},[1]);