!function t(e,n,r){function a(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return a(n?n:t)},l,l.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){var r=t("./graph"),a=r(600,400,{top:40,right:30,bottom:40,left:50},10);document.getElementById("city-input").addEventListener("input",function(t){var e=function(){a.submitting=!1,document.getElementById("chart").innerHTML="",a.formatChart(this.value)};a.submitting||(a.submitting=!0,setTimeout(e.bind(t.target),500))})},{"./graph":2}],2:[function(t,e,n){e.exports=function(t,e,n,r){var a,i,o=["Sun","Mon","Tues","Weds","Thurs","Fri","Sat"],s=function(t){return(1.8*(t-273.15)+32).toFixed(2)},u=function(t){return o[new Date(1e3*t).getDay()]},e=e-n.top-n.bottom,t=t-n.left-n.right;return{submitting:!1,formatChart:function(o){d3.json("http://api.openweathermap.org/data/2.5/forecast/daily?q="+o,function(l){var c=[],d=[],f=[],p=[];if(l&&"404"!==l.cod){a=l.list.length,o=l.city.name+", "+l.city.country,l.list.forEach(function(t,e){var n=s(t.temp.day),r=u(t.dt),i={temp:n};c.push(n),d.push(r),e!==a-1&&(i.target=e+1),f.push(i)}),f.forEach(function(t){t.hasOwnProperty("target")&&p.push({source:t,target:f[t.target]})});var g=d3.scale.linear().domain([0,.33*c.length,.66*c.length,c.length]).range(["#B58929","#C61C6F","#268BD2","#85992C"]),m=d3.scale.linear().domain([d3.min(c)-5,d3.max(c)+5]).range([0,e]),y=d3.scale.ordinal().domain(d3.range(0,c.length)).rangeBands([0,t],.2),h=d3.select("body").append("div").attr("id","tool-tip"),x=d3.select("#chart").append("svg"),v=x.style("background","#E7E0CB").attr("width",t+n.left+n.right).attr("height",e+n.top+n.bottom).append("g").attr("transform","translate("+n.left+", "+n.top+")"),b=d3.scale.linear().domain([d3.min(c)-5,d3.max(c)+5]).range([e,0]),E=d3.scale.ordinal().domain(d).rangeBands([0,t],.2),B=d3.svg.axis().scale(b).orient("left").ticks(10),w=d3.svg.axis().scale(E).orient("bottom").tickValues(E.domain()),C=d3.select("svg").append("g"),q=d3.select("svg").append("g");f.forEach(function(t,n){t.x=y(n)+y.rangeBand()/2,t.y=e-m(t.temp)}),v.selectAll("line").data(p).enter().append("line").attr("stroke",function(t,e){return g(e)}).attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.source.x}).attr("y2",function(t){return t.source.y}).transition().attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).delay(function(t,e){return 200*e}).ease("linear"),v.selectAll("circle").data(f).enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("fill",function(t,e){return g(e)}).on("mouseover",function(t){h.transition().style("opacity",.9),h.html(t.temp+"&deg;F").style("left",d3.event.pageX-35+"px").style("top",d3.event.pageY-35+"px"),i=this.style.fill,d3.select(this).transition().style("opacity",.5).style("fill","yellow")}).on("mouseout",function(t){d3.select(this).transition().style("opacity",1).style("fill",i),h.transition().style("opacity",0)}).transition().attr("r",r).delay(function(t,e){return 200*e}).ease("elastic"),w(q),q.attr("transform","translate("+n.left+", "+(e+n.top)+")"),B(C),C.attr("transform","translate("+n.left+", "+n.top+")"),x.append("text").classed("headline",!0).attr("x",t/2).attr("y",n.top/2).attr("text-anchor","middle").text("Temperatures for "+o)}})}}}},{}]},{},[1]);